{"map":"{\"version\":3,\"sources\":[\"/Users/ankushsaini/Public/btcTransaction/src/App.js\",\"/Users/ankushsaini/Public/btcTransaction/src/store/appReducer.js\",\"/Users/ankushsaini/Public/btcTransaction/src/store/configureStore.js\",\"/Users/ankushsaini/Public/btcTransaction/src/index.js\"],\"names\":[\"websocket\",\"BtcChart\",\"Loadable\",\"loader\",\"Promise\",\"all\",\"__webpack_require__\",\"e\",\"then\",\"bind\",\"loading\",\"react_default\",\"a\",\"createElement\",\"modules\",\"FindBtc\",\"App\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"componentDidMount\",\"window\",\"addEventListener\",\"_restart\",\"_stop\",\"WebSocket\",\"onopen\",\"setState\",\"connectionStatus\",\"_start\",\"onerror\",\"close\",\"onclose\",\"onmessage\",\"event\",\"btcData\",\"JSON\",\"parse\",\"data\",\"op\",\"_updateBtcArray\",\"send\",\"btcArray\",\"state\",\"btcArrayCopy\",\"toConsumableArray\",\"timeStamp\",\"x\",\"time\",\"btcHash\",\"hash\",\"out\",\"btcTotalAmount\",\"i\",\"length\",\"value\",\"btcObject\",\"id\",\"amount\",\"_Unix_timestamp\",\"push\",\"shift\",\"t\",\"dt\",\"Date\",\"hr\",\"getHours\",\"m\",\"getMinutes\",\"s\",\"getSeconds\",\"substr\",\"_this$state\",\"className\",\"NavLink\",\"to\",\"exact\",\"activeClassName\",\"activeStyle\",\"color\",\"Switch\",\"Route\",\"path\",\"render\",\"assign\",\"Component\",\"withRouter\",\"connect\",\"initialState\",\"message\",\"fetching\",\"createStoreWithMiddleware\",\"compose\",\"applyMiddleware\",\"ReduxThunk\",\"store\",\"next\",\"action\",\"console\",\"group\",\"type\",\"info\",\"result\",\"log\",\"getState\",\"groupEnd\",\"createStore\",\"rootReducer\",\"combineReducers\",\"app\",\"arguments\",\"undefined\",\"objectSpread\",\"payload\",\"configureStore\",\"AppBundle\",\"es\",\"BrowserRouter\",\"es6\",\"src_App_0\",\"onload\",\"preloadReady\",\"renderMethod\",\"ReactDOM\",\"hydrate\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React, { Component } from 'react';\\nimport Loadable from 'react-loadable';\\nimport { connect } from 'react-redux';\\nimport { withRouter } from 'react-router';\\nimport { Route, Switch, NavLink } from 'react-router-dom';\\n\\nimport './App.scss';\\n\\nlet websocket;\\n\\nconst BtcChart = Loadable({\\n  loader: () => import(/* webpackChunkName: \\\"btcChart\\\" */ './components/BtcChart'),\\n  loading: () => <div>loading page...</div>,\\n  modules: ['btcChart'],\\n});\\n\\nconst FindBtc = Loadable({\\n  loader: () => import(/* webpackChunkName: \\\"findBtc\\\" */ './components/FindBtc'),\\n  loading: () => <div>loading another page...</div>,\\n  modules: ['findBtc'],\\n});\\n\\nclass App extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      connectionStatus: 'connecting...',\\n      btcArray: []\\n    };\\n  }\\n\\n  componentDidMount = () => {\\n    window.addEventListener('online',  this._restart);\\n    window.addEventListener('offline', this._stop);\\n\\n    websocket = new WebSocket('wss://ws.blockchain.info/inv');\\n\\n    websocket.onopen = () => {\\n      this.setState({\\n        connectionStatus: 'connected'\\n      })\\n      this._start()\\n    };\\n\\n    websocket.onerror = () => {\\n      websocket.close();\\n      this._stop()\\n    };\\n\\n    websocket.onclose = () => {\\n      this._stop()\\n    };\\n\\n    websocket.onmessage = (event) => {\\n      let btcData = JSON.parse(event.data)\\n      if (btcData.op === 'utx'){\\n        this._updateBtcArray(btcData)\\n      }\\n    }\\n  }\\n\\n  _start = () => {\\n    websocket.send('{\\\"op\\\":\\\"unconfirmed_sub\\\"}');\\n  }\\n\\n  _restart = () => {\\n    this.setState({\\n      connectionStatus: 'connected'\\n    })\\n  }\\n\\n  _stop = (event) => {\\n    this.setState({\\n      connectionStatus: 'disconnected'\\n    })\\n  }\\n\\n  _updateBtcArray = (btcData) => {\\n    const { btcArray } = this.state\\n    let btcArrayCopy = [...btcArray]\\n    let timeStamp = btcData.x.time;\\n    let btcHash = btcData.x.hash;\\n    let out = btcData.x.out;\\n    let btcTotalAmount = 0;\\n    for(let i = 0; i < out.length; i++){\\n      btcTotalAmount += out[i].value;\\n    }\\n    btcTotalAmount /= 100000000;\\n    var btcObject = { id: btcHash, amount: btcTotalAmount, timeStamp: this._Unix_timestamp(timeStamp) };\\n    if(btcTotalAmount > 1) {\\n      btcArrayCopy.push(btcObject);\\n    }\\n    if (btcArrayCopy.length > 10) {\\n      btcArrayCopy.shift();\\n    }\\n   this.setState({\\n     btcArray: [...btcArrayCopy]\\n   })\\n  }\\n\\n  _Unix_timestamp (t) {\\n    let dt = new Date(t*1000);\\n    let hr = dt.getHours();\\n    let m = \\\"0\\\" + dt.getMinutes();\\n    let s = \\\"0\\\" + dt.getSeconds();\\n    return hr+ ':' + m.substr(-2) + ':' + s.substr(-2);\\n  }\\n\\n  render() {\\n    const { connectionStatus, btcArray } = this.state\\n    return (\\n      <div className=\\\"App\\\">\\n        <div className=\\\"App-intro\\\">\\n          <nav>\\n            <NavLink to=\\\"/\\\" exact activeClassName=\\\"active\\\" activeStyle={{ color: '#1569c7' }} className=\\\"NavLink\\\">\\n              Home\\n            </NavLink>\\n            <NavLink to=\\\"/searchBtc\\\" activeClassName=\\\"active\\\" activeStyle={{ color: '#1569c7'}} className=\\\"NavLink\\\">\\n              FindBtc\\n            </NavLink>\\n          </nav>\\n          <p>status: {connectionStatus}</p>\\n          <Switch>\\n            <Route path=\\\"/\\\" exact render={(props) => { return <BtcChart {...props} btcArray={btcArray} />}} />\\n            <Route path=\\\"/searchBtc\\\" render={(props) => { return <FindBtc {...props} btcArray={btcArray} />}} />\\n          </Switch>\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default withRouter(\\n  connect(\\n    null,\\n    null\\n  )(App),\\n);\\n\",\"const initialState = {\\n  message: null,\\n  fetching: false,\\n};\\n\\nexport default (state = initialState, action) => {\\n  switch (action.type) {\\n    case 'SET_MESSAGE':\\n      return {\\n        ...state,\\n        message: action.message,\\n      };\\n    case 'LOADER_START':\\n      return {\\n        ...state,\\n        fetching: action.payload,\\n      };\\n\\n    case 'LOADER_STOP':\\n      // debugger\\n      return {\\n        ...state,\\n        fetching: action.payload,\\n      };\\n\\n    default:\\n      return state;\\n  }\\n};\\n\",\"import {\\n  createStore, combineReducers, compose, applyMiddleware,\\n} from 'redux';\\n\\nimport ReduxThunk from 'redux-thunk';\\n// import axios from 'axios';\\n\\nimport appReducer from './appReducer';\\n\\n/**\\n * Logs all actions and states after they are dispatched.\\n */\\nconst logger = store => next => (action) => {\\n  console.group(action.type);\\n  console.info('dispatching', action);\\n  const result = next(action);\\n  console.log('next state', store.getState());\\n  console.groupEnd();\\n  return result;\\n};\\n\\n// if you're also using redux-thunk, add it as a middleware\\nconst createStoreWithMiddleware = compose(applyMiddleware(ReduxThunk, logger))(\\n  createStore,\\n);\\n\\nconst rootReducer = combineReducers({\\n  app: appReducer,\\n});\\n\\nfunction configureStore(initialState = {}) {\\n  return createStoreWithMiddleware(rootReducer, initialState);\\n}\\n\\nconst store = module.hot\\n  ? configureStore(window.__REDUX_STATE__ || {})\\n  : configureStore({});\\n\\nexport { configureStore, store };\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport Loadable from 'react-loadable';\\nimport { Provider as ReduxProvider } from 'react-redux';\\nimport { BrowserRouter } from 'react-router-dom';\\nimport { CookiesProvider } from 'react-cookie';\\n\\n// import './index.scss';\\nimport App from './App';\\nimport { store } from './store/configureStore';\\n// import registerServiceWorker from './registerServiceWorker';\\n\\n// const store = configureStore(window.__REDUX_STATE__ || {});\\n\\nconst AppBundle = (\\n  <ReduxProvider store={store}>\\n    <BrowserRouter>\\n      <CookiesProvider>\\n        <App />\\n      </CookiesProvider>\\n    </BrowserRouter>\\n  </ReduxProvider>\\n);\\n\\nwindow.onload = () => {\\n  Loadable.preloadReady().then(() => {\\n    const renderMethod = module.hot ? ReactDOM.render : ReactDOM.hydrate;\\n    renderMethod(AppBundle, document.getElementById('root'));\\n  });\\n};\\n\\n// registerServiceWorker();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{35:function(e,t,n){e.exports=n(46)},44:function(e,t,n){},46:function(e,t,n){\"use strict\";n.r(t);var a,c=n(1),o=n.n(c),r=n(21),i=n.n(r),s=n(8),l=n.n(s),u=n(12),d=n(50),m=n(33),f=n(20),p=n(23),b=n(24),v=n(26),g=n(25),h=n(27),E=n(49),S=n(51),O=n(52),y=n(29),_=(n(44),l()({loader:function(){return Promise.all([n.e(4),n.e(0)]).then(n.bind(null,455))},loading:function(){return o.a.createElement(\"div\",null,\"loading page...\")},modules:[\"btcChart\"]})),w=l()({loader:function(){return Promise.all([n.e(5),n.e(1)]).then(n.bind(null,456))},loading:function(){return o.a.createElement(\"div\",null,\"loading another page...\")},modules:[\"findBtc\"]}),j=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(v.a)(this,Object(g.a)(t).call(this,e))).componentDidMount=function(){window.addEventListener(\"online\",n._restart),window.addEventListener(\"offline\",n._stop),(a=new WebSocket(\"wss://ws.blockchain.info/inv\")).onopen=function(){n.setState({connectionStatus:\"connected\"}),n._start()},a.onerror=function(){a.close(),n._stop()},a.onclose=function(){n._stop()},a.onmessage=function(e){var t=JSON.parse(e.data);\"utx\"===t.op&&n._updateBtcArray(t)}},n._start=function(){a.send('{\"op\":\"unconfirmed_sub\"}')},n._restart=function(){n.setState({connectionStatus:\"connected\"})},n._stop=function(e){n.setState({connectionStatus:\"disconnected\"})},n._updateBtcArray=function(e){for(var t=n.state.btcArray,a=Object(f.a)(t),c=e.x.time,o=e.x.hash,r=e.x.out,i=0,s=0;s<r.length;s++)i+=r[s].value;var l={id:o,amount:i/=1e8,timeStamp:n._Unix_timestamp(c)};i>1&&a.push(l),a.length>10&&a.shift(),n.setState({btcArray:Object(f.a)(a)})},n.state={connectionStatus:\"connecting...\",btcArray:[]},n}return Object(h.a)(t,e),Object(b.a)(t,[{key:\"_Unix_timestamp\",value:function(e){var t=new Date(1e3*e),n=t.getHours(),a=\"0\"+t.getMinutes(),c=\"0\"+t.getSeconds();return n+\":\"+a.substr(-2)+\":\"+c.substr(-2)}},{key:\"render\",value:function(){var e=this.state,t=e.connectionStatus,n=e.btcArray;return o.a.createElement(\"div\",{className:\"App\"},o.a.createElement(\"div\",{className:\"App-intro\"},o.a.createElement(\"nav\",null,o.a.createElement(S.a,{to:\"/\",exact:!0,activeClassName:\"active\",activeStyle:{color:\"#1569c7\"},className:\"NavLink\"},\"Home\"),o.a.createElement(S.a,{to:\"/searchBtc\",activeClassName:\"active\",activeStyle:{color:\"#1569c7\"},className:\"NavLink\"},\"FindBtc\")),o.a.createElement(\"p\",null,\"status: \",t),o.a.createElement(O.a,null,o.a.createElement(y.a,{path:\"/\",exact:!0,render:function(e){return o.a.createElement(_,Object.assign({},e,{btcArray:n}))}}),o.a.createElement(y.a,{path:\"/searchBtc\",render:function(e){return o.a.createElement(w,Object.assign({},e,{btcArray:n}))}}))))}}]),t}(c.Component),A=Object(E.a)(Object(u.b)(null,null)(j)),x=n(5),N=n(32),k=n(14),B={message:null,fetching:!1},L=Object(x.d)(Object(x.a)(N.a,function(e){return function(t){return function(n){console.group(n.type),console.info(\"dispatching\",n);var a=t(n);return console.log(\"next state\",e.getState()),console.groupEnd(),a}}}))(x.e),C=Object(x.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"SET_MESSAGE\":return Object(k.a)({},e,{message:t.message});case\"LOADER_START\":case\"LOADER_STOP\":return Object(k.a)({},e,{fetching:t.payload});default:return e}}});var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return L(C,e)}({}),R=o.a.createElement(u.a,{store:D},o.a.createElement(d.a,null,o.a.createElement(m.a,null,o.a.createElement(A,null))));window.onload=function(){l.a.preloadReady().then(function(){(0,i.a.hydrate)(R,document.getElementById(\"root\"))})}}},[[35,3,6]]]);","extractedComments":[]}