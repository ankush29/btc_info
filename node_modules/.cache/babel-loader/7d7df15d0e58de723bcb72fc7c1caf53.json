{"ast":null,"code":"'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\n\nvar Message = function Message() {\n  this.rsv1 = false;\n  this.rsv2 = false;\n  this.rsv3 = false;\n  this.opcode = null;\n  this.length = 0;\n  this._chunks = [];\n};\n\nvar instance = {\n  read: function read() {\n    return this.data = this.data || Buffer.concat(this._chunks, this.length);\n  },\n  pushFrame: function pushFrame(frame) {\n    this.rsv1 = this.rsv1 || frame.rsv1;\n    this.rsv2 = this.rsv2 || frame.rsv2;\n    this.rsv3 = this.rsv3 || frame.rsv3;\n    if (this.opcode === null) this.opcode = frame.opcode;\n\n    this._chunks.push(frame.payload);\n\n    this.length += frame.length;\n  }\n};\n\nfor (var key in instance) {\n  Message.prototype[key] = instance[key];\n}\n\nmodule.exports = Message;","map":null,"metadata":{},"sourceType":"script"}