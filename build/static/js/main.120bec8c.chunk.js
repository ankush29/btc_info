(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{35:function(e,t,n){e.exports=n(46)},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a,c=n(1),o=n.n(c),r=n(21),i=n.n(r),s=n(8),l=n.n(s),u=n(12),d=n(50),m=n(33),f=n(20),p=n(23),b=n(24),v=n(26),g=n(25),h=n(27),E=n(49),S=n(51),O=n(52),y=n(29),_=(n(44),l()({loader:function(){return Promise.all([n.e(4),n.e(0)]).then(n.bind(null,455))},loading:function(){return o.a.createElement("div",null,"loading page...")},modules:["btcChart"]})),w=l()({loader:function(){return Promise.all([n.e(5),n.e(1)]).then(n.bind(null,456))},loading:function(){return o.a.createElement("div",null,"loading another page...")},modules:["findBtc"]}),j=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(v.a)(this,Object(g.a)(t).call(this,e))).componentDidMount=function(){window.addEventListener("online",n._restart),window.addEventListener("offline",n._stop),(a=new WebSocket("wss://ws.blockchain.info/inv")).onopen=function(){n.setState({connectionStatus:"connected"}),n._start()},a.onerror=function(){a.close(),n._stop()},a.onclose=function(){n._stop()},a.onmessage=function(e){var t=JSON.parse(e.data);"utx"===t.op&&n._updateBtcArray(t)}},n._start=function(){a.send('{"op":"unconfirmed_sub"}')},n._restart=function(){n.setState({connectionStatus:"connected"})},n._stop=function(e){n.setState({connectionStatus:"disconnected"})},n._updateBtcArray=function(e){for(var t=n.state.btcArray,a=Object(f.a)(t),c=e.x.time,o=e.x.hash,r=e.x.out,i=0,s=0;s<r.length;s++)i+=r[s].value;var l={id:o,amount:i/=1e8,timeStamp:n._Unix_timestamp(c)};i>1&&a.push(l),a.length>10&&a.shift(),n.setState({btcArray:Object(f.a)(a)})},n.state={connectionStatus:"connecting...",btcArray:[]},n}return Object(h.a)(t,e),Object(b.a)(t,[{key:"_Unix_timestamp",value:function(e){var t=new Date(1e3*e),n=t.getHours(),a="0"+t.getMinutes(),c="0"+t.getSeconds();return n+":"+a.substr(-2)+":"+c.substr(-2)}},{key:"render",value:function(){var e=this.state,t=e.connectionStatus,n=e.btcArray;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"App-intro"},o.a.createElement("nav",null,o.a.createElement(S.a,{to:"/",exact:!0,activeClassName:"active",activeStyle:{color:"#1569c7"},className:"NavLink"},"Home"),o.a.createElement(S.a,{to:"/searchBtc",activeClassName:"active",activeStyle:{color:"#1569c7"},className:"NavLink"},"FindBtc")),o.a.createElement("p",null,"status: ",t),o.a.createElement(O.a,null,o.a.createElement(y.a,{path:"/",exact:!0,render:function(e){return o.a.createElement(_,Object.assign({},e,{btcArray:n}))}}),o.a.createElement(y.a,{path:"/searchBtc",render:function(e){return o.a.createElement(w,Object.assign({},e,{btcArray:n}))}}))))}}]),t}(c.Component),A=Object(E.a)(Object(u.b)(null,null)(j)),x=n(5),N=n(32),k=n(14),B={message:null,fetching:!1},L=Object(x.d)(Object(x.a)(N.a,function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var a=t(n);return console.log("next state",e.getState()),console.groupEnd(),a}}}))(x.e),C=Object(x.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE":return Object(k.a)({},e,{message:t.message});case"LOADER_START":case"LOADER_STOP":return Object(k.a)({},e,{fetching:t.payload});default:return e}}});var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return L(C,e)}({}),R=o.a.createElement(u.a,{store:D},o.a.createElement(d.a,null,o.a.createElement(m.a,null,o.a.createElement(A,null))));window.onload=function(){l.a.preloadReady().then(function(){(0,i.a.hydrate)(R,document.getElementById("root"))})}}},[[35,3,6]]]);
//# sourceMappingURL=main.120bec8c.chunk.js.map